# å•å…ƒæµ‹è¯•æŒ‡å—

## ğŸ§ª æµ‹è¯•è¦†ç›–èŒƒå›´

### **å·²åˆ›å»ºçš„æµ‹è¯•æ–‡ä»¶**

1. **`src/lib/__tests__/auth.test.ts`** - JWT è®¤è¯åŠŸèƒ½æµ‹è¯•
2. **`src/lib/__tests__/userRepo.test.ts`** - ç”¨æˆ·æ•°æ®è®¿é—®å±‚æµ‹è¯•
3. **`src/app/api/__tests__/register.test.ts`** - æ³¨å†Œ API æµ‹è¯•
4. **`src/app/api/__tests__/login.test.ts`** - ç™»å½• API æµ‹è¯•
5. **`src/app/__tests__/register-page.test.tsx`** - æ³¨å†Œé¡µé¢ç»„ä»¶æµ‹è¯•
6. **`src/app/__tests__/login-page.test.tsx`** - ç™»å½•é¡µé¢ç»„ä»¶æµ‹è¯•

## ğŸš€ è¿è¡Œæµ‹è¯•

### **å®‰è£…ä¾èµ–**

```bash
npm install --save-dev jest @types/jest @testing-library/react @testing-library/jest-dom @testing-library/user-event jest-environment-jsdom ts-jest
```

### **è¿è¡Œæ‰€æœ‰æµ‹è¯•**

```bash
npm test
```

### **ç›‘å¬æ¨¡å¼ï¼ˆå¼€å‘æ—¶æ¨èï¼‰**

```bash
npm run test:watch
```

### **ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š**

```bash
npm run test:coverage
```

## ğŸ“Š æµ‹è¯•ç±»å‹

### **1. å•å…ƒæµ‹è¯• (Unit Tests)**

- **auth.test.ts**: JWT ç­¾åå’ŒéªŒè¯
- **userRepo.test.ts**: æ•°æ®åº“æ“ä½œå‡½æ•°

### **2. API æµ‹è¯• (Integration Tests)**

- **register.test.ts**: æ³¨å†Œ API ç«¯ç‚¹
- **login.test.ts**: ç™»å½• API ç«¯ç‚¹

### **3. ç»„ä»¶æµ‹è¯• (Component Tests)**

- **register-page.test.tsx**: æ³¨å†Œé¡µé¢ UI äº¤äº’
- **login-page.test.tsx**: ç™»å½•é¡µé¢ UI äº¤äº’

## ğŸ¯ æµ‹è¯•åœºæ™¯

### **è®¤è¯åŠŸèƒ½**

- âœ… JWT ä»¤ç‰Œåˆ›å»ºå’ŒéªŒè¯
- âœ… æ— æ•ˆä»¤ç‰Œå¤„ç†
- âœ… ç©ºä»¤ç‰Œå¤„ç†

### **ç”¨æˆ·ç®¡ç†**

- âœ… ç”¨æˆ·æŸ¥æ‰¾ï¼ˆå­˜åœ¨/ä¸å­˜åœ¨ï¼‰
- âœ… ç”¨æˆ·åˆ›å»º
- âœ… æ•°æ®åº“é”™è¯¯å¤„ç†

### **API ç«¯ç‚¹**

- âœ… æˆåŠŸæ³¨å†Œ
- âœ… é‡å¤ç”¨æˆ·æ³¨å†Œ
- âœ… ç¼ºå°‘å­—æ®µéªŒè¯
- âœ… æˆåŠŸç™»å½•
- âœ… æ— æ•ˆå‡­æ®
- âœ… æœåŠ¡å™¨é”™è¯¯å¤„ç†

### **UI ç»„ä»¶**

- âœ… è¡¨å•æ¸²æŸ“
- âœ… è¾“å…¥éªŒè¯
- âœ… é”™è¯¯æ˜¾ç¤º
- âœ… æˆåŠŸæäº¤
- âœ… åŠ è½½çŠ¶æ€
- âœ… ç”¨æˆ·äº¤äº’

## ğŸ”§ æµ‹è¯•é…ç½®

### **Jest é…ç½®** (`jest.config.js`)

- Next.js é›†æˆ
- TypeScript æ”¯æŒ
- è·¯å¾„åˆ«åæ˜ å°„
- æµ‹è¯•ç¯å¢ƒè®¾ç½®

### **æµ‹è¯•è®¾ç½®** (`src/setupTests.ts`)

- DOM æµ‹è¯•å·¥å…·
- Next.js è·¯ç”±æ¨¡æ‹Ÿ
- Fetch API æ¨¡æ‹Ÿ
- ç¯å¢ƒå˜é‡è®¾ç½®

## ğŸ“ˆ è¦†ç›–ç‡ç›®æ ‡

- **è¯­å¥è¦†ç›–ç‡**: > 90%
- **åˆ†æ”¯è¦†ç›–ç‡**: > 85%
- **å‡½æ•°è¦†ç›–ç‡**: > 90%
- **è¡Œè¦†ç›–ç‡**: > 90%

## ğŸ› ï¸ æ·»åŠ æ–°æµ‹è¯•

### **åˆ›å»ºæ–°æµ‹è¯•æ–‡ä»¶**

```bash
# åœ¨å¯¹åº”ç›®å½•åˆ›å»º __tests__ æ–‡ä»¶å¤¹
mkdir src/your-module/__tests__

# åˆ›å»ºæµ‹è¯•æ–‡ä»¶
touch src/your-module/__tests__/your-module.test.ts
```

### **æµ‹è¯•æ–‡ä»¶å‘½åè§„èŒƒ**

- ç»„ä»¶æµ‹è¯•: `component-name.test.tsx`
- åŠŸèƒ½æµ‹è¯•: `function-name.test.ts`
- API æµ‹è¯•: `api-endpoint.test.ts`

## ğŸ› è°ƒè¯•æµ‹è¯•

### **è¿è¡Œç‰¹å®šæµ‹è¯•**

```bash
# è¿è¡Œç‰¹å®šæ–‡ä»¶
npm test auth.test.ts

# è¿è¡Œç‰¹å®šæµ‹è¯•å¥—ä»¶
npm test -- --testNamePattern="should create a valid JWT token"
```

### **è¯¦ç»†è¾“å‡º**

```bash
npm test -- --verbose
```

## ğŸ“ æµ‹è¯•æœ€ä½³å®è·µ

1. **AAA æ¨¡å¼**: Arrange, Act, Assert
2. **æè¿°æ€§æµ‹è¯•åç§°**: æ¸…æ¥šè¯´æ˜æµ‹è¯•ç›®çš„
3. **å•ä¸€èŒè´£**: æ¯ä¸ªæµ‹è¯•åªéªŒè¯ä¸€ä¸ªåŠŸèƒ½
4. **Mock å¤–éƒ¨ä¾èµ–**: ç¡®ä¿æµ‹è¯•éš”ç¦»
5. **æ¸…ç†çŠ¶æ€**: æ¯ä¸ªæµ‹è¯•åé‡ç½®çŠ¶æ€
